:root{
  --bg:#6bc7c9;
  --panel:#d31a8a;
  --panel-edge:#f5d60a;
  --panel-border:#0d0d0f;
  --ink:#000000;      /* general UI text */
  --font:#000000;     /* number/label font color (theme-controlled) */
  --secondary:#f5d60a;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font-family: ui-sans-serif, -apple-system, system-ui, "Segoe UI", Inter, Roboto, "Helvetica Neue", Arial, monospace;
  -webkit-tap-highlight-color:transparent;
}

/* equal top/bottom padding; big button fills leftover space */
.wrap{
  min-height:100vh;
  max-width:560px;
  margin:0 auto;
  padding:calc(env(safe-area-inset-top) + 16px) 16px calc(env(safe-area-inset-bottom) + 16px);
  display:grid;
  grid-template-rows:auto 1fr;
  gap:18px;
}

.top-row{ position:relative; display:grid; }

.icon-btn{
  position:absolute; top:10px; right:10px;
  width:40px; height:40px;
  border-radius:50%;
  border:3px solid var(--panel-border);
  background:var(--secondary);
  color:#000;
  display:grid; place-items:center;
  box-shadow:0 3px 0 var(--panel-border);
}

/* 3D press effect */
.pressy{
  border-radius:26px;
  border:3px solid var(--panel-border);
  background:var(--panel);
  box-shadow:
    0 6px 0 0 var(--panel-edge),
    0 9px 0 0 var(--panel-border),
    inset 0 2px 0 rgba(255,255,255,.08);
  transition:transform .05s linear, box-shadow .05s linear;
}
.pressy.pressed,
.pressy:active{
  transform:translateY(3px);
  box-shadow:
    0 3px 0 0 var(--panel-edge),
    0 6px 0 0 var(--panel-border),
    inset 0 8px 12px rgba(0,0,0,.2);
}

/* Top display button */
.display-btn{ height:100px; padding:14px 16px; display:flex; align-items:center; justify-content:center; }
.display-content{ display:flex; align-items:baseline; gap:12px; }

/* number + label use THEME FONT color */
.count, .count-label{
  color:var(--font);
  font-size: clamp(48px, 10vw, 72px);
  font-weight:900;
  letter-spacing:4px;
  line-height:1;
  text-shadow:0 2px 0 rgba(0,0,0,.25);
}
.count-label{ margin-left:4px; }

.text-input{
  margin-top: 5px;
}

/* Big increment button fills to bottom */
.big-button{
  width:100%;
  height:100%;
  min-height:0;
  display:grid;
  place-items:center;
  user-select:none;
}
.plus{
  font-size: clamp(72px, 18vw, 140px);
  font-weight:900;
  opacity:.45;
  pointer-events:none;
}

/* Overlay */
.overlay{ position:fixed; inset:0; background:rgba(0,0,0,.35); display:none; padding:24px; }
.overlay.open{ display:grid; place-items:end center; }
.sheet{
  width:min(560px,100%);
  background:var(--panel);
  border:3px solid var(--panel-border);
  border-radius:24px 24px 0 0;
  padding:16px;
  box-shadow:0 -4px 0 0 var(--panel-edge), 0 -8px 0 0 var(--panel-border);
  max-height:85vh;
  overflow-y:auto;                 /* keep scrolling */
  -webkit-overflow-scrolling:touch;/* smooth iOS momentum */
  scrollbar-width:none;            /* Firefox: hide track */
}

/* WebKit (iOS Safari, Chrome) */
.sheet::-webkit-scrollbar{
  width:0;
  height:0;
  display:none;
}
.overlay{ overscroll-behavior: contain; }

.sheet-header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.close-btn{ background:var(--secondary); border:3px solid var(--panel-border); color:#000; border-radius:10px; padding:4px 10px; font-size:20px }

.section + .section{ margin-top:16px; }
.subhead{ margin:8px 0 }

/* input with no dashed focus */
.text-input{
  width:100%;
  padding:10px 12px;
  border-radius:14px;
  border:2px solid var(--panel-border);
  background:rgba(255,255,255,.15);
  color:var(--ink);
  font-weight:700;
  outline:none;
}
.text-input:focus{ outline:none; }

/* Theme grid: 3D mini buttons showing current count in that theme's font color */
.themes{ display:grid; grid-template-columns:repeat(4,1fr); gap:10px; }
.swatch{ height:70px; cursor:pointer; border:none; background:transparent; padding:0; display:block; }
.swatch-inner{
  border-radius:14px; border:2px solid var(--border); height:100%;
  background: var(--panelC);
  box-shadow: 0 5px 0 0 var(--edge), 0 8px 0 0 var(--border), inset 0 2px 0 rgba(255,255,255,.08);
  display:grid; place-items:center;
  transition:transform .05s linear, box-shadow .05s linear;
}
.swatch.selected .swatch-inner{ outline:3px solid #000; outline-offset:2px }
.swatch-inner.pressed,
.swatch:active .swatch-inner{
  transform:translateY(2px);
  box-shadow: 0 2px 0 0 var(--edge), 0 5px 0 0 var(--border), inset 0 6px 10px rgba(0,0,0,.2);
}
.swatch-inner .zero{ font-weight:900 }

/* centered reset button */
.section-reset{ display:flex; justify-content:center; }
.pill{ background:#fff; color:#111; border:2px solid var(--panel-border); border-radius:999px; padding:10px 14px; font-weight:800; cursor:pointer }
.pill.danger{ background:#ffd1d1; color:#3b0f0f }